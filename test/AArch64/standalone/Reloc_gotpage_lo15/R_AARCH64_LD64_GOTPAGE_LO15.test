#---R_AARCH64_LD64_GOTPAGE_LO15.test--------------------- SharedLibrary------------------#
#BEGIN_COMMENT
# This tests that R_AARCH64_LD64_GOTPAGE_LO15 can be used to load from the GOT
#END_COMMENT
RUN: %clang %clangopts -c %p/Inputs/a.s -fPIC -o %t1.1.o  -target aarch64
RUN: %link %linkopts %t1.1.o -shared -o %t1.so -march aarch64
RUN: %objdump -d --dynamic-reloc %t1.so | %filecheck %s

#CHECK-DAG: 00000000000010f0 R_AARCH64_GLOB_DAT       first
#CHECK-DAG: 00000000000010f8 R_AARCH64_GLOB_DAT       second

#CHECK: 1b8: b0000000      adrp    x0, 0x1000 <second+0x1000>
#CHECK: 1bc: 91040000      add     x0, x0, #0x100
#CHECK: 1c0: f9407801      ldr     x1, [x0, #0xf0]
#CHECK: 1c4: f9407c02      ldr     x2, [x0, #0xf8]
